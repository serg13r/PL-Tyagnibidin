# Блок А
# 1. Дано натуральные числа X, N. Вычислить выражение вида: x^n / n!.
def stepen_na_factorial(x, n):
    if n == 0:
        return 1
    else:
        return (x / n) * stepen_na_factorial(x, n - 1)

X = int(input("Введите натуральное X: "))
N = int(input("Введите натуральное N: "))
print(stepen_na_factorial(X, N))

# Вывод
# Введите натуральное X: 3
# Введите натуральное N: 4
# 3.375


# 2. Дано натуральные числа a, b. Вычислить остаток от деления a на b.
def ostatok_ot_delenia(a, b):
    if a < b:
        return a
    else:
        return ostatok_ot_delenia(a - b, b)

a = int(input("Введите натуральное a: "))
b = int(input("Введите натуральное b: "))
print(ostatok_ot_delenia(a, b))

# Вывод
# Введите натуральное a: 7
# Введите натуральное b: 5
# 2


# 3. Вывести число в обратном порядке.
def obratniy_poryadok(n):
    if n < 10:
        print(n, end='')
    else:
        print(n % 10, end='')
        obratniy_poryadok(n // 10)

obratniy_poryadok(int(input("Введите число: ")))

# Вывод
# Введите число: 97
# 79


# 4. Дано натуральное число N. Вычислите сумму его цифр.
# При решении этой задачи нельзя использовать строки, списки, массивы.
def summa_cifr(n):
    if n == 0:
        return 0
    else:
        return n % 10 + summa_cifr(n // 10)

n = int(input("Введите число N: "))
print(summa_cifr(n))

# Вывод
# Введите число N: 79
# 16


# 5. Дано натуральное число N. Выведите все его цифры по одной,
# в обратном порядке, разделяя их пробелами или новыми строками.
# При решении этой задачи нельзя использовать строки, списки,
# массивы. Разрешена только рекурсия и целочисленная арифметика.
def vse_cifri_po_odnoi(n):
    if n < 10:
        print(n)
    else:
        print(n % 10)
        vse_cifri_po_odnoi(n // 10)

vse_cifri_po_odnoi(int(input("Введите число N: ")))

# Вывод
# Введите число N: 4679
# 9
# 7
# 6
# 4


# 6. Дано натуральное число n > 1. Проверьте, является ли оно простым.
# Программа должна вывести слово YES, если число простое и NO, если число составное.
def is_prime(n, d=2):
    if d * d > n:
        return True
    if n % d == 0:
        return False
    return is_prime(n, d + 1)

n = int(input("Введите число (> 1): "))
if is_prime(n):
    print("YES")
else:
    print("NO")

# Вывод
# Введите число (> 1): 11
# YES


# 7. Даны два целых числа A и В (каждое в отдельной строке). Выведите все числа
# от A до B включительно, в порядке возрастания, если A < B, или в порядке
# убывания в противном случае.
def vse_chisla(a, b):
    if a <= b:
        print(a)
        if a < b:
            vse_chisla(a + 1, b)
    else:
        print(a)
        if a > b:
            vse_chisla(a - 1, b)

A = float(input("Введите целое A: "))
B = float(input("Введите целое B: "))
vse_chisla(A, B)

# Вывод
# Введите целое A: 2
# Введите целое B: 6
# 2.0
# 3.0
# 4.0
# 5.0
# 6.0


# Блок Б
# 1. Вводим последовательность натуральных чисел (одно число в строке),
# завершающаяся числом 0. Определите наибольшее значение числа в этой
# последовательности. В этой задаче нельзя использовать глобальные
# переменные и передавать какие-либо параметры в рекурсивную функцию.
# Функция получает данные, считывая их с клавиатуры. Функция возвращает
# единственное значение: максимум считанной последовательности.
# Гарантируется, что последовательность содержит хотя бы одно число (кроме нуля).

def max_v_posledovatelnosti():
    n = int(input('Введите число: '))
    if n == 0:
        return float('-inf')
    else:
        max_next = max_v_posledovatelnosti()
        return max(n, max_next)

print(max_v_posledovatelnosti())

# Вывод
# Введите число: 1
# Введите число: 3
# Введите число: 2
# Введите число: 8
# Введите число: 4
# Введите число: 0
# 8


# 2. Дана последовательность натуральных чисел (одно число в строке),
# завершающаяся числом 0. Определите значение второго по величине элемента
# в этой последовательности, то есть элемента, который будет наибольшим,
# если из последовательности удалить наибольший элемент.

def second_max(prev_max=float('-inf'), prev_second=float('-inf')):
    n = int(input('Введите число: '))
    if n == 0:
        return prev_second
    if n > prev_max:
        return second_max(n, prev_max)
    elif prev_second < n < prev_max:
        return second_max(prev_max, n)
    else:
        return second_max(prev_max, prev_second)

print(second_max())

# Вывод
# Введите число: 1
# Введите число: 3
# Введите число: 2
# Введите число: 8
# Введите число: 4
# Введите число: 0
# 4


# 3. Дана последовательность натуральных чисел (одно число в строке),
# завершающаяся числом 0. Выведите первое, третье, пятое и т.д. из введенных
# чисел. Завершающий ноль выводить не надо. В этой задаче нельзя использовать
# глобальные переменные и передавать какие-либо параметры в рекурсивную функцию.
# Функция получает данные, считывая их с клавиатуры. Функция не возвращает значение,
# а сразу же выводит результат на экран. Основная программа должна состоять только
# из вызова этой функции.

def first_third_fifth():
    n = int(input('Введите число: '))
    if n != 0:
        print(n)
        _skip_next()

def _skip_next():
    n = int(input('Введите число: '))
    if n != 0:
        first_third_fifth()

first_third_fifth()

# Вывод
# Введите число: 1
# 1
# Введите число: 2
# Введите число: 3
# 3
# Введите число: 4
# Введите число: 5
# 5
# Введите число: 0


# 4. Дано натуральное число n>1. Проверьте, является ли оно простым.
# Программа должна вывести слово YES, если число простое и NO, если число
# составное. Алгоритм должен иметь сложность O(logn). Указание. Понятно, что
# задача сама по себе нерекурсивна, т.к. проверка числа n на простоту никак не
# сводится к проверке на простоту меньших чисел. Поэтому нужно сделать еще один
# параметр рекурсии: делитель числа, и именно по этому параметру и делать рекурсию.

def is_prime(n, divisor=2):
    if divisor * divisor > n:
        return True
    if n % divisor == 0:
        return False
    return is_prime(n, divisor + 1)

def check_prime():
    n = int(input('Введите число: '))
    if is_prime(n):
        print("YES")
    else:
        print("NO")

check_prime()

# Вывод
# Введите число: 7
# YES

# Вывод
# Введите число: 8

# NO
